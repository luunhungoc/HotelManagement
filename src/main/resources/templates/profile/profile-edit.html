<html lang="en" xmlns:th="http://www.w3.org/1999/xhtml">

<head>
    <link href="https://fonts.googleapis.com/css?family=Federo|Poppins" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" />
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.2.13/semantic.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.2.1/assets/owl.carousel.min.css" />
    <link rel="stylesheet"
          href="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.2.1/assets/owl.theme.default.min.css" />
    <link
            href="https://cdn.rawgit.com/mdehoog/Semantic-UI-Calendar/76959c6f7d33a527b49be76789e984a0a407350b/dist/calendar.min.css"
            rel="stylesheet" type="text/css" />
    <link rel="stylesheet"
          href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.7.1/css/bootstrap-datepicker3.min.css" />
    <link th:href="@{/css/home.css}" rel="stylesheet" />
    <link th:href="@{/css/profile.css}" rel="stylesheet" />
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<title>Profile Edit - La Siesta Danang Resort</title>
    <link rel="icon" th:href="@{img/favicon.jpg}">
</head>

<body>
<!-- Fixed navbar -->
<div class="sideArea">
<div th:replace="~{website/header :: header}"></div>
</div>
<!-- End Of Navbar -->
<div th:replace="~{website/sidebar :: sidebar}"></div>
<div class="mainContent">
    <!-- LIST FORM -->
    <div class="edit-profile-container">
        <div class="profile-form">
            <h2>Edit Profile</h2>
            <form id="profile" th:action = "@{/user/edit/{id}(id=${profile.id})}" method="post">
                <div class="form-row">
                    <div class="form-group">
                        <label>*User Name:</label>
                        <input type="email" th:field="*{profile.loginName}" required>
                    </div>
                    <div class="form-group">
                        <label>*E-Mail:</label>
                        <input type="text" th:value="*{profile.loginName}" readonly required>
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label>*First Name:</label>
                        <input type="text" th:field="*{profile.firstName}" required>
                    </div>
                    <div class="form-group">
                        <label>*Last Name:</label>
                        <input type="text" th:field="*{profile.lastName}" required>
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="myGender">Gender:</label>
                        <select id="myGender"  th:field="*{profile.gender}">
                            <option th:each="gender : ${genders}"
                                    th:value="${gender}"
                                    th:text="${gender}"></option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>Birthday:</label>
                        <input type="date" th:field="*{profile.birthday}">
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label>*Address:</label>
                        <input type="text" th:field="*{profile.address}" required>
                    </div>
                    <div class="form-group">
                        <label>*District:</label>
                        <input type="text" th:field="*{profile.district}" required>
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label>*City:</label>
                        <input type="text" th:field="*{profile.city}" required>
                    </div>
                    <div class="form-group">
                        <label>*Country:</label>
                        <input type="text" th:field="*{profile.country}" required>
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label>Phone Number:</label>
                        <input type="text" th:field="*{profile.phone}">
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group full-width">
                        <label>Profile Notes:</label>
                        <textarea th:field="*{profile.notes}">peanut</textarea>
                    </div>
                </div>
                <button type="submit" class="save-btn">Save Changes</button>
            </form>
        </div>

        <div class="profile-picture">
            <form id ="PPicture" th:action="@{/user/upload-profile-photo/{id}(id=${profile.id})}" method="post" enctype="multipart/form-data">
            <h2>Profile Picture</h2>
            <img th:src="${profile.avatar}" alt="Avatar" width="270px" height="270px" />

            <!-- Hidden file input for uploading a new avatar -->
            <input type="file" name="image" class="upload-img-input" style="display:none;" onchange="this.form.submit()" />

            <!-- Edit Avatar button to trigger the file input -->
            <button type="button" class="upload-img-btn edit-avatar-btn"
                    onclick="document.querySelector('.upload-img-input').click()">
                <span class="fa fa-pencil"></span>
                <span>Edit Avatar</span>
            </button>
            </form>
        </div>
    </div>
</div>


<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.2.13/semantic.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.2.1/owl.carousel.min.js"></script>
<script
        src="https://cdn.rawgit.com/mdehoog/Semantic-UI-Calendar/76959c6f7d33a527b49be76789e984a0a407350b/dist/calendar.min.js">
</script>

<script type="text/javascript" th:src="@{/js/profile.js}" defer></script>

<script th:src="@{/js/admin.js}"></script>

</body>

<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.9.1/gsap.min.js"></script>

</html>